---
import PortfolioLayout from '../layouts/PortfolioLayout.astro';

import MV from '../components/organisms/MV.astro';
import Work from '../components/organisms/Work.astro';
import Skill from '../components/organisms/Skill.astro';
import About from '../components/organisms/About.astro';
import Contact from '../components/organisms/Contact.astro';
import Job from '../components/organisms/Job.astro';

import skills from "../../generated/skills.json";
import jobs from "../../generated/jobs.json";

import { getCollection } from 'astro:content';

export async function page() {
	const data = await getCollection('work');
	return {
		pages: data
	}
}
const { pages } = await page()
---

<PortfolioLayout>
	<MV />
	<Work works={pages} />
	<Skill skills={skills} more={true} />
	<Job jobs={jobs} more={true} />
	<About />
</PortfolioLayout>